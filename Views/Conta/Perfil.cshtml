@model MeuProjetoMVC.Models.Usuario

@{
    ViewData["Title"] = "Meu Perfil";

}
<style>
    body{
        background-color:#111823;
    }
</style>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>

<div class="container mt-4">

    <h2>Meu Perfil</h2>

    @if (TempData["Mensagem"] != null)
    {
        <div class="alert alert-info">@TempData["Mensagem"]</div>
    }

    <div class="card p-3" style="background-color: dimgray">
        <dl class="row">
            <dt class="col-sm-3">Foto</dt>
            <dd class="col-sm-9">
                @if (Model.Imagens != null && Model.Imagens.Length > 0)
                {
                    <img id="imgUsuario"
                    src="data:image/jpeg;base64,@(Convert.ToBase64String(Model.Imagens))"
                    class="img-fluid rounded-circle"
                    width="100" height="100"
                    alt="Foto do usuário" />
                }
                else
                {
                    <img id="imgUsuario"
                    src="~/img/user-default.png"
                    class="img-fluid rounded-circle"
                    width="150" height="150"
                    alt="Foto padrão" />
                }
            </dd>

            <dt class="col-sm-3">Nome</dt>
            <dd class="col-sm-9">@Model.Nome</dd>

            <dt class="col-sm-3">Email</dt>
            <dd class="col-sm-9">@Model.Email</dd>

            <dt class="col-sm-3">Telefone</dt>
            <dd class="col-sm-9">@Model.Telefone</dd>
        </dl>

        <a href="@Url.Action("Editar", "Conta")" class="btn btn-warning">Editar Dados</a>
    </div>

    <hr />

    <h4>Meus Cartões</h4>
    @*<a href="@Url.Action(action: "AdicionarCartao", controller: "Conta")" class="btn btn-primary">Adicionar Cartão</a>*@
    <a class="btn btn-primary" asp-controller="Conta" asp-action="AdicionarCartao">Adicionar Cartão</a>
    <div class="list-group mt-3">
        @foreach (cartaoCli cartao in Model.CartaoCli)
        {
            <a href="#" class="list-group-item list-group-item-action">
                <strong>@cartao.bandeira</strong> - Últimos 4 dígitos: <strong>@cartao.digitos</strong>
            </a>
        }
    </div>
    <a asp-action="Cartoes" asp-controller="Conta" class="btn btn-primary">Meus cartões</a>
    <hr />

    <h4>Histórico de Vendas</h4>
    <div class="list-group mt-3">
        @foreach (Venda venda in Model.Vendas)
        {

            

            <a href="@Url.Action("DetalhesVenda", "Conta", new { codEntrega =  venda.codEntrega })" class="list-group-item list-group-item-action">
            Venda: @venda.codVenda - Valor: @venda.valorTotalVenda
        </a>
    }
</div>

</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

